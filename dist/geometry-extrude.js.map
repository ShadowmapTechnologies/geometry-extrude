{"version":3,"file":"geometry-extrude.js","sources":["../node_modules/earcut/src/earcut.js","../src/simplify.js","../src/math.js","../src/main.js"],"sourcesContent":["'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 32767 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim | 0);\n            triangles.push(ear.i / dim | 0);\n            triangles.push(next.i / dim | 0);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    var p = c.next;\n    while (p !== a) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(x0, y0, minX, minY, invSize),\n        maxZ = zOrder(x1, y1, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim | 0);\n            triangles.push(p.i / dim | 0);\n            triangles.push(b.i / dim | 0);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);\n                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    filterPoints(bridgeReverse, bridgeReverse.next);\n    return filterPoints(bridge, bridge.next);\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                m = p.x < p.next.x ? p : p.next;\n                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = (x - minX) * invSize | 0;\n    y = (y - minY) * invSize | 0;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&\n           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&\n           (bx - px) * (cy - py) >= (cx - px) * (by - py);\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = 0;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n","/*\n (c) 2017, Vladimir Agafonkin\n Simplify.js, a high-performance JS polyline simplification library\n mourner.github.io/simplify-js\n*/\n\n// to suit your point format, run search/replace for '.x' and '.y';\n// for 3D version, see 3d branch (configurability would draw significant performance overhead)\n\n// square distance between 2 points\nfunction getSqDist(p1, p2) {\n\n    var dx = p1[0] - p2[0],\n        dy = p1[1] - p2[1];\n\n    return dx * dx + dy * dy;\n}\n\n// square distance from a point to a segment\nfunction getSqSegDist(p, p1, p2) {\n\n    var x = p1[0],\n        y = p1[1],\n        dx = p2[0] - x,\n        dy = p2[1] - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((p[0] - x) * dx + (p[1] - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = p2[0];\n            y = p2[1];\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = p[0] - x;\n    dy = p[1] - y;\n\n    return dx * dx + dy * dy;\n}\n// rest of the code doesn't care about point format\n\n// basic distance-based simplification\nfunction simplifyRadialDist(points, sqTolerance) {\n\n    var prevPoint = points[0],\n        newPoints = [prevPoint],\n        point;\n\n    for (var i = 1, len = points.length; i < len; i++) {\n        point = points[i];\n\n        if (getSqDist(point, prevPoint) > sqTolerance) {\n            newPoints.push(point);\n            prevPoint = point;\n        }\n    }\n\n    if (prevPoint !== point) newPoints.push(point);\n\n    return newPoints;\n}\n\nfunction simplifyDPStep(points, first, last, sqTolerance, simplified) {\n    var maxSqDist = sqTolerance,\n        index;\n\n    for (var i = first + 1; i < last; i++) {\n        var sqDist = getSqSegDist(points[i], points[first], points[last]);\n\n        if (sqDist > maxSqDist) {\n            index = i;\n            maxSqDist = sqDist;\n        }\n    }\n\n    if (maxSqDist > sqTolerance) {\n        if (index - first > 1) simplifyDPStep(points, first, index, sqTolerance, simplified);\n        simplified.push(points[index]);\n        if (last - index > 1) simplifyDPStep(points, index, last, sqTolerance, simplified);\n    }\n}\n\n// simplification using Ramer-Douglas-Peucker algorithm\nfunction simplifyDouglasPeucker(points, sqTolerance) {\n    var last = points.length - 1;\n\n    var simplified = [points[0]];\n    simplifyDPStep(points, 0, last, sqTolerance, simplified);\n    simplified.push(points[last]);\n\n    return simplified;\n}\n\n// both algorithms combined for awesome performance\nfunction simplify(points, tolerance, highestQuality) {\n\n    if (points.length <= 2) return points;\n\n    var sqTolerance = tolerance !== undefined ? tolerance * tolerance : 1;\n\n    points = highestQuality ? points : simplifyRadialDist(points, sqTolerance);\n    points = simplifyDouglasPeucker(points, sqTolerance);\n\n    return points;\n}\nexport default simplify;","export function dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1] + v1[2] * v2[2];\n}\nexport function v2Dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n}\n\nexport function normalize(out, v) {\n    const x = v[0];\n    const y = v[1];\n    const z = v[2];\n    const d = Math.sqrt(x * x + y * y + z * z);\n    out[0] = x / d;\n    out[1] = y / d;\n    out[2] = z / d;\n    return out;\n}\n\nexport function v2Normalize(out, v) {\n    const x = v[0];\n    const y = v[1];\n    const d = Math.sqrt(x * x + y * y);\n    out[0] = x / d;\n    out[1] = y / d;\n    return out;\n}\n\nexport function scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    out[2] = v[2] * s;\n    return out;\n}\n\nexport function mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    out[2] = v1[2] * v2[2];\n    return out;\n}\n\nexport function scaleAndAdd(out, v1, v2, s) {\n    out[0] = v1[0] + v2[0] * s;\n    out[1] = v1[1] + v2[1] * s;\n    out[2] = v1[2] + v2[2] * s;\n    return out;\n}\n\nexport function add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    out[2] = v1[2] + v2[2];\n    return out;\n}\n\nexport function v2Add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n}\n\nexport function sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    out[2] = v1[2] - v2[2];\n    return out;\n}\n\nexport function v2Sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n}\n\nexport function v3Sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    out[2] = v1[2] - v2[2];\n    return out;\n}\n\nexport function v3Normalize(out, v) {\n    const x = v[0];\n    const y = v[1];\n    const z = v[2];\n    const d = Math.sqrt(x * x + y * y + z * z);\n    out[0] = x / d;\n    out[1] = y / d;\n    out[2] = z / d;\n    return out;\n}\n\nexport function v3Cross(out, v1, v2) {\n    var ax = v1[0], ay = v1[1], az = v1[2],\n        bx = v2[0], by = v2[1], bz = v2[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n}\n\nconst rel = [];\n// start and end must be normalized\nexport function slerp(out, start, end, t) {\n    // https://keithmaggio.wordpress.com/2011/02/15/math-magician-lerp-slerp-and-nlerp/\n    const cosT = dot(start, end);\n    const theta = Math.acos(cosT) * t;\n\n    scaleAndAdd(rel, end, start, -cosT);\n    normalize(rel, rel);// start and rel Orthonormal basis\n\n    scale(out, start, Math.cos(theta));\n    scaleAndAdd(out, out, rel, Math.sin(theta));\n\n    return out;\n}\n\nexport function lineIntersection(x1, y1, x2, y2, x3, y3, x4, y4, out, writeOffset) {\n    const dx1 = x2 - x1;\n    const dx2 = x4 - x3;\n    const dy1 = y2 - y1;\n    const dy2 = y4 - y3;\n\n    const cross = dy2 * dx1 - dx2 * dy1;\n    const tmp1 = y1 - y3;\n    const tmp2 = x1 - x3;\n    const t1 = (dx2 * tmp1 - dy2 * tmp2) / cross;\n    // const t2 = (dx1 * tmp1 - dy1 * tmp2) / cross;\n\n    if (out) {\n        writeOffset = writeOffset || 0;\n        out[writeOffset] = x1 + t1 * (x2 - x1);\n        out[writeOffset + 1] = y1 + t1 * (y2 - y1);\n    }\n\n    return t1;\n}\n\nexport function area(points, start, end) {\n    // Signed polygon area\n    const n = end - start;\n    if (n < 3) {\n        return 0;\n    }\n    let area = 0;\n    for (let i = (end - 1) * 2, j = start * 2; j < end * 2;) {\n        const x0 = points[i];\n        const y0 = points[i + 1];\n        const x1 = points[j];\n        const y1 = points[j + 1];\n        i = j;\n        j += 2;\n        area += x0 * y1 - x1 * y0;\n    }\n\n    return area;\n}\n\n\nexport function triangleArea(x0, y0, x1, y1, x2, y2) {\n    return (x1 - x0) * (y2 - y1) - (y1 - y0) * (x2 - x1);\n}","// TODO fitRect x, y are negative?\n// TODO Extrude dimensions\n// TODO bevel=\"top\"|\"bottom\"\n// TODO Not add top and bottom vertices if area is 0\n\nimport earcut from 'earcut';\nimport doSimplify from './simplify';\nimport {\n    slerp, v2Normalize, v2Dot, v2Add, area,\n    v3Normalize, v3Sub, v3Cross, lineIntersection\n} from './math';\n\nexport function triangulate(vertices, holes, dimensions=2) {\n    return earcut(vertices, holes, dimensions);\n};\n\nexport function flatten(data) {\n    return earcut.flatten(data);\n}\n\nconst v1 = [];\nconst v2 = [];\nconst v = [];\n\nfunction innerOffsetPolygon(\n    vertices, out, start, end, outStart, offset, miterLimit, close,\n    removeIntersections,\n    // offsetLines\n) {\n    const checkMiterLimit = miterLimit != null;\n    let cursor = outStart;\n    let indicesMap = null;\n    if (checkMiterLimit) {\n        indicesMap = new Uint32Array(end - start);\n    }\n    let prevOffsetX;\n    let prevOffsetY;\n    let prevCursor;\n    let tmpIntersection = [];\n\n    for (let i = start; i < end; i++) {\n        const nextIdx = i === end - 1 ? start : i + 1;\n        const prevIdx = i === start ? end - 1 : i - 1;\n        const x1 = vertices[prevIdx * 2];\n        const y1 = vertices[prevIdx * 2 + 1];\n        const x2 = vertices[i * 2];\n        const y2 = vertices[i * 2 + 1];\n        const x3 = vertices[nextIdx * 2];\n        const y3 = vertices[nextIdx * 2 + 1];\n\n        v1[0] = x2 - x1;\n        v1[1] = y2 - y1;\n        v2[0] = x3 - x2;\n        v2[1] = y3 - y2;\n\n        v2Normalize(v1, v1);\n        v2Normalize(v2, v2);\n\n        checkMiterLimit && (indicesMap[i] = cursor);\n\n        let needCheckIntersection = false;\n        let offsetX;\n        let offsetY;\n        if (!close && i === start) {\n            v[0] = v2[1];\n            v[1] = -v2[0];\n            v2Normalize(v, v);\n            prevOffsetX = out[cursor * 2] = x2 + v[0] * offset;\n            prevOffsetY = out[cursor * 2 + 1] = y2 + v[1] * offset;\n            prevCursor = cursor;\n\n            // offsetLines && offsetLines.push([x2, y2, prevOffsetX, prevOffsetY, cursor])\n            cursor++;\n        }\n        else if (!close && i === end - 1) {\n            v[0] = v1[1];\n            v[1] = -v1[0];\n            v2Normalize(v, v);\n\n            offsetX = x2 + v[0] * offset;\n            offsetY = y2 + v[1] * offset;\n\n            needCheckIntersection = true;\n        }\n        else {\n            // PENDING Why using sub will lost the direction info.\n            v2Add(v, v2, v1);\n            const tmp = v[1];\n            v[1] = -v[0];\n            v[0] = tmp;\n\n            v2Normalize(v, v);\n\n            const cosA = v2Dot(v, v2);\n            const sinA = Math.sqrt(1 - cosA * cosA);\n            // PENDING\n            // Make sure it's offset lines instead of vertices.\n            const miter = offset * Math.min(10, 1 / sinA);\n\n            const isCovex = offset * cosA < 0;\n\n            if (checkMiterLimit && (1 / sinA) > miterLimit && isCovex) {\n                // No need to check line intersection on the outline.\n                const mx = x2 + v[0] * offset;\n                const my = y2 + v[1] * offset;\n                const halfA = Math.acos(sinA) / 2;\n                const dist = Math.tan(halfA) * Math.abs(offset);\n                out[cursor * 2] = mx + v[1] * dist;\n                out[cursor * 2 + 1] = my - v[0] * dist;\n                cursor++;\n                out[cursor * 2] = mx - v[1] * dist;\n                out[cursor * 2 + 1] = my + v[0] * dist;\n                cursor++;\n            }\n            else {\n                offsetX = x2 + v[0] * miter;\n                offsetY = y2 + v[1] * miter;\n                needCheckIntersection = true;\n            }\n\n            if (needCheckIntersection) {\n                // TODO Handle with whole.\n                if (removeIntersections && prevOffsetX != null) {\n                    // Greedy, only check with previous offset line\n                    // PENDING: Is it necessary to check with other lines?\n                    const t = lineIntersection(\n                        x1, y1, prevOffsetX, prevOffsetY,\n                        x2, y2, offsetX, offsetY, tmpIntersection, 0\n                    );\n                    // Use a eplison\n                    if (t >= -1e-2 && t <= 1 + 1e-2) {\n                        // Update previous offset points.\n                        out[prevCursor * 2] = offsetX = tmpIntersection[0];\n                        out[prevCursor * 2 + 1] = offsetY = tmpIntersection[1];\n                    }\n                }\n\n                prevOffsetX = out[cursor * 2] = offsetX;\n                prevOffsetY = out[cursor * 2 + 1] = offsetY;\n                prevCursor = cursor;\n\n                // offsetLines && offsetLines.push([x2, y2, offsetX, offsetY, cursor])\n\n                cursor++;\n            }\n        }\n    }\n\n\n    return indicesMap;\n}\n\nexport function offsetPolygon(vertices, holes, offset, miterLimit, close) {\n    const offsetVertices = miterLimit != null ? [] : new Float32Array(vertices.length);\n    const exteriorSize = (holes && holes.length) ? holes[0] : vertices.length / 2;\n\n    const offsetLines = [];\n\n    innerOffsetPolygon(\n        vertices, offsetVertices, 0, exteriorSize, 0, offset, miterLimit, close, true\n    );\n\n    if (holes) {\n        for (let i = 0; i < holes.length; i++) {\n            const start = holes[i];\n            const end = holes[i + 1] || vertices.length / 2;\n            innerOffsetPolygon(\n                vertices, offsetVertices, start, end,\n                miterLimit != null ? offsetVertices.length / 2 : start,\n                offset, miterLimit, close, false\n            );\n        }\n    }\n\n    // TODO holes\n    // Remove intersections of offseted polygon\n    // let len = offsetLines.length;\n    // let tmpIntersection = [];\n    // for (let i = 0; i < len; i++) {\n    //     const line1 = offsetLines[i];\n    //     for (let k = i + 1; k < len; k++) {\n    //         const line2 = offsetLines[k];\n\n    //         const t = lineIntersection(\n    //             line1[0], line1[1], line1[2], line1[3],\n    //             line2[0], line2[1], line2[2], line2[3], tmpIntersection, 0\n    //         );\n    //         // Use a eplison\n    //         if (t >= -1e-2 && t <= 1 + 1e-2) {\n    //             const cursor1 = line1[4] * 2;\n    //             const cursor2 = line2[4] * 2;\n    //             // Update\n    //             offsetVertices[cursor1] = offsetVertices[cursor2] = line1[2] = line2[2] = tmpIntersection[0];\n    //             offsetVertices[cursor1 + 1] = offsetVertices[cursor2 + 1] = line1[3] = line2[3]= tmpIntersection[1];\n    //         }\n    //     }\n    // }\n    return offsetVertices;\n}\n\nfunction reversePoints(points, stride, start, end) {\n    for (let i = 0; i < Math.floor((end - start) / 2); i++) {\n        for (let j = 0; j < stride; j++) {\n            const a = (i + start) * stride + j;\n            const b = (end - i - 1) * stride + j;\n            const tmp = points[a];\n            points[a] = points[b];\n            points[b] = tmp;\n        }\n    }\n\n    return points;\n}\n\nfunction convertToClockwise(vertices, holes) {\n    let polygonVertexCount = vertices.length / 2;\n    let start = 0;\n    let end = holes && holes.length ? holes[0] : polygonVertexCount;\n    if (area(vertices, start, end) > 0) {\n        reversePoints(vertices, 2, start, end);\n    }\n    for (let h = 1; h < (holes ? holes.length : 0) + 1; h++) {\n        start = holes[h - 1];\n        end = holes[h] || polygonVertexCount;\n        if (area(vertices, start, end) < 0) {\n            reversePoints(vertices, 2, start, end);\n        }\n    }\n}\n\nfunction normalizeOpts(opts) {\n\n    opts.depth = opts.depth || 1;\n    opts.elevation = opts.elevation || 0;\n    opts.bevelSize = opts.bevelSize || 0;\n    opts.bevelSegments = opts.bevelSegments == null ? 2 : opts.bevelSegments;\n    opts.smoothBevel = opts.smoothBevel || false;\n    opts.simplify = opts.simplify || 0;\n\n    if (opts.smoothSide == null) {\n        opts.smoothSide = 'auto'\n    }\n    if (opts.smoothSideThreshold == null) {\n        opts.smoothSideThreshold = 0.9\n    }\n\n    // Normalize bevel options.\n    if (typeof opts.depth === 'number') {\n        opts.bevelSize = Math.min(!(opts.bevelSegments > 0) ? 0 : opts.bevelSize, opts.depth / 2);\n    }\n    if (!(opts.bevelSize > 0)) {\n        opts.bevelSegments = 0;\n    }\n    opts.bevelSegments = Math.round(opts.bevelSegments);\n\n    const boundingRect = opts.boundingRect;\n    opts.translate = opts.translate || [0, 0];\n    opts.scale = opts.scale || [1, 1];\n    if (opts.fitRect) {\n        let targetX = opts.fitRect.x == null\n            ? (boundingRect.x || 0)\n            : opts.fitRect.x;\n        let targetY = opts.fitRect.y == null\n            ? (boundingRect.y || 0)\n            : opts.fitRect.y;\n        let targetWidth = opts.fitRect.width;\n        let targetHeight = opts.fitRect.height;\n        if (targetWidth == null) {\n            if (targetHeight != null) {\n                targetWidth = targetHeight / boundingRect.height * boundingRect.width;\n            }\n            else {\n                targetWidth = boundingRect.width;\n                targetHeight = boundingRect.height;\n            }\n        }\n        else if (targetHeight == null) {\n            targetHeight = targetWidth / boundingRect.width * boundingRect.height;\n        }\n        opts.scale = [\n            targetWidth / boundingRect.width,\n            targetHeight / boundingRect.height\n        ];\n        opts.translate = [\n            (targetX - boundingRect.x) * opts.scale[0],\n            (targetY - boundingRect.y) * opts.scale[1]\n        ];\n    }\n}\n\nfunction generateNormal(indices, position) {\n\n    function v3Set(p, a, b, c) {\n        p[0] = a; p[1] = b; p[2] = c;\n    }\n\n    const p1 = [];\n    const p2 = [];\n    const p3 = [];\n\n    const v21 = [];\n    const v32 = [];\n\n    const n = [];\n\n    const len = indices.length;\n    const normals = new Float32Array(position.length);\n\n    for (let f = 0; f < len;) {\n        const i1 = indices[f++] * 3;\n        const i2 = indices[f++] * 3;\n        const i3 = indices[f++] * 3;\n\n        v3Set(p1, position[i1], position[i1 + 1], position[i1 + 2]);\n        v3Set(p2, position[i2], position[i2 + 1], position[i2 + 2]);\n        v3Set(p3, position[i3], position[i3 + 1], position[i3 + 2]);\n\n        v3Sub(v21, p1, p2);\n        v3Sub(v32, p2, p3);\n        v3Cross(n, v21, v32);\n        // Already be weighted by the triangle area\n        for (let i = 0; i < 3; i++) {\n            normals[i1 + i] = normals[i1 + i] + n[i];\n            normals[i2 + i] = normals[i2 + i] + n[i];\n            normals[i3 + i] = normals[i3 + i] + n[i];\n        }\n    }\n\n    for (var i = 0; i < normals.length;) {\n        v3Set(n, normals[i], normals[i+1], normals[i+2]);\n        v3Normalize(n, n);\n        normals[i++] = n[0];\n        normals[i++] = n[1];\n        normals[i++] = n[2];\n\n    }\n\n    return normals;\n}\n// 0,0----1,0\n// 0,1----1,1\nconst quadToTriangle = [\n    [0, 0], [1, 0], [1, 1],\n    [0, 0], [1, 1], [0, 1]\n];\n\n// Add side vertices and indices. Include bevel.\nfunction addExtrudeSide(\n    out, {vertices, topVertices, splittedMap, depth, rect, elevation}, start, end,\n    cursors, opts\n) {\n    const ringVertexCount = end - start;\n\n    const splitBevel = opts.smoothBevel ? 1 : 2;\n    const bevelSize = Math.min(depth / 2, opts.bevelSize);\n    const bevelSegments = opts.bevelSegments;\n    const vertexOffset = cursors.vertex;\n    const size = Math.max(rect.width, rect.height, depth);\n\n    const isDuplicateVertex = splittedMap\n        ? (idx) => {\n            const nextIdx = (idx + 1) % ringVertexCount;\n            return splittedMap[idx + start] === splittedMap[nextIdx + start];\n        }\n        : (idx) => false;\n\n    // Side vertices\n    if (bevelSize > 0) {\n        const v0 = [0, 0, 1];\n        const v1 = [];\n        const v2 = [0, 0, -1];\n        const v = [];\n\n        let ringCount = 0;\n        let vLen = new Float32Array(ringVertexCount);\n        for (let k = 0; k < 2; k++) {\n            const z = (k === 0 ? (depth - bevelSize) : bevelSize);\n            for (let s = 0; s <= bevelSegments * splitBevel; s++) {\n                let uLen = 0;\n                let prevX;\n                let prevY;\n                for (let i = 0; i < ringVertexCount; i++) {\n                    const idx = (i % ringVertexCount + start) * 2;\n                    const rawIdx = splittedMap ? splittedMap[idx / 2] * 2 : idx;\n                    v1[0] = vertices[idx] - topVertices[rawIdx];\n                    v1[1] = vertices[idx + 1] - topVertices[rawIdx + 1];\n                    v1[2] = 0;\n                    const l = Math.sqrt(v1[0] * v1[0] + v1[1] * v1[1]);\n                    v1[0] /= l;\n                    v1[1] /= l;\n\n                    const t = (Math.floor(s / splitBevel) + (s % splitBevel)) / bevelSegments;\n                    k === 0 ? slerp(v, v0, v1, t)\n                        : slerp(v, v1, v2, t);\n\n                    const t2 = k === 0  ? t : 1 - t;\n                    const a = bevelSize * Math.sin(t2 * Math.PI / 2);\n                    const b = l * Math.cos(t2 * Math.PI / 2);\n\n                    // ellipse radius\n                    const r = bevelSize * l / Math.sqrt(a * a + b * b);\n\n                    const x = v[0] * r + topVertices[rawIdx];\n                    const y = v[1] * r + topVertices[rawIdx + 1];\n                    const zz = v[2] * r + z;\n                    out.position[cursors.vertex * 3] = x;\n                    out.position[cursors.vertex * 3 + 1] = y;\n                    out.position[cursors.vertex * 3 + 2] = zz + elevation;\n\n                    // TODO Cache and optimize\n                    if (i > 0) {\n                        uLen += Math.sqrt((prevX - x) * (prevX - x) + (prevY - y) * (prevY - y));\n                    }\n                    if (s > 0 || k > 0) {\n                        let tmp = (cursors.vertex - ringVertexCount) * 3;\n                        let prevX2 = out.position[tmp];\n                        let prevY2 = out.position[tmp + 1];\n                        let prevZ2 = out.position[tmp + 2];\n\n                        vLen[i] += Math.sqrt(\n                            (prevX2 - x) * (prevX2 - x)\n                            + (prevY2 - y) * (prevY2 - y)\n                            + (prevZ2 - zz) * (prevZ2 - zz)\n                        );\n                    }\n                    out.uv[cursors.vertex * 2] = uLen / size;\n                    out.uv[cursors.vertex * 2 + 1] = vLen[i] / size;\n\n                    prevX = x;\n                    prevY = y;\n                    cursors.vertex++;\n                    // Just ignore this face if vertex are duplicted in `splitVertices`\n                    if (isDuplicateVertex(i)) {\n                        continue;\n                    }\n                    if ((splitBevel > 1 && (s % splitBevel)) || (splitBevel === 1 && s >= 1)) {\n                        for (let f = 0; f < 6; f++) {\n                            const m = (quadToTriangle[f][0] + i) % ringVertexCount;\n                            const n = quadToTriangle[f][1] + ringCount;\n                            out.indices[cursors.index++] = (n - 1) * ringVertexCount + m + vertexOffset;\n                        }\n                    }\n                }\n\n                ringCount++;\n            }\n        }\n    }\n    else {\n        for (let k = 0; k < 2; k++) {\n            const z = k === 0 ? depth : 0;\n            let uLen = 0;\n            let prevX;\n            let prevY;\n            for (let i = 0; i < ringVertexCount; i++) {\n                const idx = (i + start) * 2;\n                const x = vertices[idx];\n                const y = vertices[idx + 1];\n                const vtx3 = cursors.vertex * 3;\n                const vtx2 = cursors.vertex * 2;\n                out.position[vtx3] = x;\n                out.position[vtx3 + 1] = y;\n                out.position[vtx3 + 2] = z + elevation;\n                if (i > 0) {\n                    uLen += Math.sqrt((prevX - x) * (prevX - x) + (prevY - y) * (prevY - y));\n                }\n                out.uv[vtx2] = uLen / size;\n                out.uv[vtx2 + 1] = z / size;\n                prevX = x;\n                prevY = y;\n\n                cursors.vertex++;\n            }\n        }\n    }\n    // Connect the side\n    const sideStartRingN = bevelSize > 0 ? (bevelSegments * splitBevel + 1) : 1;\n    for (let i = 0; i < ringVertexCount; i++) {\n        // Just ignore this face if vertex are duplicted in `splitVertices`\n        if (isDuplicateVertex(i)) {\n            continue;\n        }\n        for (let f = 0; f < 6; f++) {\n            const m = (quadToTriangle[f][0] + i) % ringVertexCount;\n            const n = quadToTriangle[f][1] + sideStartRingN;\n            out.indices[cursors.index++] = (n - 1) * ringVertexCount + m + vertexOffset;\n        }\n    }\n}\n\nfunction addTopAndBottom({indices, topVertices, rect, depth, elevation}, out, cursors, opts) {\n    if (topVertices.length <= 4) {\n        return;\n    }\n\n    const vertexOffset = cursors.vertex;\n    // Top indices\n    const indicesLen = indices.length;\n    for (let i = 0; i < indicesLen; i++) {\n        out.indices[cursors.index++] = vertexOffset + indices[i];\n    }\n    const size = Math.max(rect.width, rect.height);\n    // Top and bottom vertices\n    for (let k = 0; k < (opts.excludeBottom ? 1 : 2); k++) {\n        for (let i = 0; i < topVertices.length; i += 2) {\n            const x = topVertices[i];\n            const y = topVertices[i + 1];\n            const vtx3 = cursors.vertex * 3;\n            const vtx2 = cursors.vertex * 2;\n            out.position[vtx3] = x;\n            out.position[vtx3 + 1] = y;\n            out.position[vtx3 + 2] = (1 - k) * depth + elevation;\n\n            out.uv[vtx2] = (x - rect.x) / size;\n            out.uv[vtx2 + 1] = (y - rect.y) / size;\n            cursors.vertex++;\n        }\n    }\n    // Bottom indices\n    if (!opts.excludeBottom) {\n        const vertexCount = topVertices.length / 2;\n        for (let i = 0; i < indicesLen; i += 3) {\n            for (let k = 0; k < 3; k++) {\n                out.indices[cursors.index++] = vertexOffset + vertexCount + indices[i + 2 - k];\n            }\n        }\n    }\n}\n\n/**\n * Split vertices for sharp side.\n */\n function splitVertices(vertices, holes, smoothSide, smoothSideThreshold) {\n    const isAutoSmooth = smoothSide == null || smoothSide === 'auto';\n    if (smoothSide === true) {\n        return {vertices, holes};\n    }\n    const newVertices = [];\n    const newHoles = holes && [];\n    const count = vertices.length / 2;\n    const v1 = [];\n    const v2 = [];\n\n    // Map of splitted index to raw index\n    const splittedMap = [];\n\n    let start = 0;\n    let end = 0;\n\n    const polysCount = (holes ? holes.length : 0) + 1;\n    for (let h = 0; h < polysCount; h++) {\n        if (h === 0) {\n            end = holes && holes.length ? holes[0] : count;\n        }\n        else {\n            start = holes[h - 1];\n            end = holes[h] || count;\n        }\n\n        for (let i = start; i < end; i++) {\n            const x2 = vertices[i * 2];\n            const y2 = vertices[i * 2 + 1];\n            const nextIdx = i === end - 1 ? start : i + 1;\n            const x3 = vertices[nextIdx * 2];\n            const y3 = vertices[nextIdx * 2 + 1];\n\n            if (isAutoSmooth) {\n                const prevIdx = i === start ? end - 1 : i - 1;\n                const x1 = vertices[prevIdx * 2];\n                const y1 = vertices[prevIdx * 2 + 1];\n\n                v1[0] = x1 - x2;\n                v1[1] = y1 - y2;\n                v2[0] = x3 - x2;\n                v2[1] = y3 - y2;\n\n                v2Normalize(v1, v1);\n                v2Normalize(v2, v2);\n\n                const angleCos = v2Dot(v1, v2) * 0.5 + 0.5;\n\n                if ((1 - angleCos) > smoothSideThreshold) {\n                    newVertices.push(x2, y2);\n                    splittedMap.push(i);\n                }\n                else {\n                    newVertices.push(x2, y2, x2, y2);\n                    splittedMap.push(i, i);\n                }\n            }\n            else {\n                newVertices.push(x2, y2, x2, y2);\n                splittedMap.push(i, i);\n            }\n        }\n\n        if (h < polysCount - 1 && newHoles) {\n            newHoles.push(newVertices.length / 2);\n        }\n    }\n\n    return {\n        vertices: new Float32Array(newVertices),\n        splittedMap,\n        holes: newHoles\n    };\n}\n\nfunction innerExtrudeTriangulatedPolygon(preparedData, opts) {\n    let indexCount = 0;\n    let vertexCount = 0;\n\n    for (let p = 0; p < preparedData.length; p++) {\n        let {indices, vertices, splittedMap, topVertices, holes, depth} = preparedData[p];\n        const bevelSize = Math.min(depth / 2, opts.bevelSize);\n        const bevelSegments = !(bevelSize > 0) ? 0 : opts.bevelSegments;\n\n        holes = holes || [];\n\n        indexCount += indices.length * (opts.excludeBottom ? 1 : 2);\n        vertexCount += topVertices.length / 2 * (opts.excludeBottom ? 1 : 2);\n        const ringCount = 2 + bevelSegments * 2;\n\n        let start = 0;\n        let end = 0;\n        for (let h = 0; h < holes.length + 1; h++) {\n            if (h === 0) {\n                end = holes.length ? holes[0] : vertices.length / 2;\n            }\n            else {\n                start = holes[h - 1];\n                end = holes[h] || vertices.length / 2;\n            }\n\n            const faceEnd = splittedMap ? splittedMap[end - 1] + 1 : end;\n            const faceStart = splittedMap ? splittedMap[start] : start;\n            indexCount += (faceEnd - faceStart) * 6 * (ringCount - 1);\n\n            const sideRingVertexCount = end - start;\n            vertexCount += sideRingVertexCount * ringCount\n                // Double the bevel vertex number if not smooth\n                + (!opts.smoothBevel ? bevelSegments * sideRingVertexCount * 2 : 0);\n        }\n    }\n\n    const data = {\n        position: new Float32Array(vertexCount * 3),\n        indices: new (vertexCount > 0xffff ? Uint32Array : Uint16Array)(indexCount),\n        uv: new Float32Array(vertexCount * 2)\n    };\n\n    const cursors = {\n        vertex: 0, index: 0\n    };\n\n    for (let d = 0; d < preparedData.length; d++) {\n        addTopAndBottom(preparedData[d], data, cursors, opts);\n    }\n\n    for (let d = 0; d < preparedData.length; d++) {\n        const {holes, vertices} = preparedData[d];\n        const vertexCount = vertices.length / 2;\n\n        let start = 0;\n        let end = (holes && holes.length) ? holes[0] : vertexCount;\n        // Add exterior\n        addExtrudeSide(data, preparedData[d], start, end, cursors, opts);\n        // Add holes\n        if (holes) {\n            for (let h = 0; h < holes.length; h++) {\n                start = holes[h];\n                end = holes[h + 1] || vertexCount;\n                addExtrudeSide(data, preparedData[d], start, end, cursors, opts);\n            }\n        }\n    }\n\n    // Wrap uv\n    for (let i = 0; i < data.uv.length; i++) {\n        const val = data.uv[i];\n        if (val > 0 && Math.round(val) === val) {\n            data.uv[i] = 1;\n        }\n        else {\n            data.uv[i] = val % 1;\n        }\n    }\n\n    data.normal = generateNormal(data.indices, data.position);\n    // PENDING\n    data.boundingRect = preparedData[0] && preparedData[0].rect;\n\n    return data;\n}\n\nfunction convertPolylineToTriangulatedPolygon(polyline, polylineIdx, opts) {\n    const lineWidth = opts.lineWidth;\n    const pointCount = polyline.length;\n    const points = new Float32Array(pointCount * 2);\n    const translate = opts.translate || [0, 0];\n    const scale = opts.scale || [1, 1];\n    for (let i = 0, k = 0; i < pointCount; i++) {\n        points[k++] = polyline[i][0] * scale[0] + translate[0];\n        points[k++] = polyline[i][1] * scale[1] + translate[1];\n    }\n\n    if (area(points, 0, pointCount) < 0) {\n        reversePoints(points, 2, 0, pointCount);\n    }\n\n    const insidePoints = [];\n    const outsidePoints = [];\n    const miterLimit = opts.miterLimit;\n    const outsideIndicesMap = innerOffsetPolygon(\n        points, outsidePoints, 0, pointCount, 0, -lineWidth / 2, miterLimit, false, true\n    );\n    reversePoints(points, 2, 0, pointCount);\n    const insideIndicesMap = innerOffsetPolygon(\n        points, insidePoints, 0, pointCount, 0, -lineWidth / 2, miterLimit, false, true\n    );\n\n    const polygonVertexCount = (insidePoints.length + outsidePoints.length) / 2;\n    const polygonVertices = new Float32Array(polygonVertexCount * 2);\n\n    let offset = 0;\n    const outsidePointCount = outsidePoints.length / 2;\n    for (let i = 0; i < outsidePoints.length; i++) {\n        polygonVertices[offset++] = outsidePoints[i];\n    }\n    for (let i = 0; i < insidePoints.length; i++) {\n        polygonVertices[offset++] = insidePoints[i];\n    }\n\n    // Built indices\n    const indices = new (polygonVertexCount > 0xffff ? Uint32Array : Uint16Array)(\n        ((pointCount - 1) * 2 + (polygonVertexCount - pointCount * 2)) * 3\n    );\n    let off = 0;\n    for (let i = 0; i < pointCount - 1; i++) {\n        const i2 = i + 1;\n        indices[off++] = outsidePointCount - 1 - outsideIndicesMap[i];\n        indices[off++] = outsidePointCount - 1 - outsideIndicesMap[i] - 1;\n        indices[off++] = insideIndicesMap[i] + 1 + outsidePointCount;\n\n        indices[off++] = outsidePointCount - 1 - outsideIndicesMap[i];\n        indices[off++] = insideIndicesMap[i] + 1 + outsidePointCount;\n        indices[off++] = insideIndicesMap[i] + outsidePointCount;\n\n        if (insideIndicesMap[i2] - insideIndicesMap[i] === 2) {\n            indices[off++] = insideIndicesMap[i] + 2 + outsidePointCount;\n            indices[off++] = insideIndicesMap[i] + 1 + outsidePointCount;\n            indices[off++] = outsidePointCount - outsideIndicesMap[i2] - 1;\n        }\n        else if (outsideIndicesMap[i2] - outsideIndicesMap[i] === 2) {\n            indices[off++] = insideIndicesMap[i2] + outsidePointCount;\n            indices[off++] = outsidePointCount - 1 - (outsideIndicesMap[i] + 1);\n            indices[off++] = outsidePointCount - 1 - (outsideIndicesMap[i] + 2);\n        }\n    }\n\n    const topVertices = opts.bevelSize > 0\n        ? offsetPolygon(polygonVertices, [], opts.bevelSize, null, true) : polygonVertices;\n    const boundingRect = opts.boundingRect;\n\n    const res = splitVertices(polygonVertices, null, opts.smoothSide, opts.smoothSideThreshold);\n    return {\n        vertices: res.vertices,\n        rawVertices: vertices,\n        splittedMap: res.splittedMap,\n        indices,\n        topVertices,\n        rect: {\n            x: boundingRect.x * scale[0] + translate[0],\n            y: boundingRect.y * scale[1] + translate[1],\n            width: boundingRect.width * scale[0],\n            height: boundingRect.height * scale[1],\n        },\n        depth: typeof opts.depth === 'function' ? opts.depth(polylineIdx) : opts.depth,\n        holes: []\n    };\n}\n\nfunction removeClosePointsOfPolygon(polygon, epsilon) {\n    const newPolygon = [];\n    for (let k  = 0; k < polygon.length; k++) {\n        const points = polygon[k];\n        const newPoints = [];\n        const len = points.length;\n        let x1 = points[len - 1][0];\n        let y1 = points[len - 1][1];\n        let dist = 0;\n        for (let i = 0; i < len; i++) {\n            let x2 = points[i][0];\n            let y2 = points[i][1];\n            const dx = x2 - x1;\n            const dy = y2 - y1;\n            dist += Math.sqrt(dx * dx + dy * dy);\n            if (dist > epsilon) {\n                newPoints.push(points[i]);\n                dist = 0;\n            }\n            x1 = x2;\n            y1 = y2;\n        }\n        if (newPoints.length >= 3) {\n            newPolygon.push(newPoints);\n        }\n    }\n    return newPolygon.length > 0 ? newPolygon : null;\n}\n\nfunction simplifyPolygon(polygon, tolerance) {\n    const newPolygon = [];\n    for (let k  = 0; k < polygon.length; k++) {\n        let points = polygon[k];\n        points = doSimplify(points, tolerance, true);\n        if (points.length >= 3) {\n            newPolygon.push(points);\n        }\n    }\n    return newPolygon.length > 0 ? newPolygon : null;\n}\n/**\n *\n * @param {Array} polygons Polygons array that match GeoJSON MultiPolygon geometry.\n * @param {Object} [opts]\n * @param {number|Function} [opts.depth]\n * @param {number} [opts.bevelSize = 0]\n * @param {number} [opts.bevelSegments = 2]\n * @param {number} [opts.simplify = 0]\n * @param {boolean} [opts.smoothSide = 'auto']\n * @param {boolean} [opts.smoothSideThreshold = 0.9]    // Will not smooth sharp side.\n * @param {boolean} [opts.smoothBevel = false]\n * @param {boolean} [opts.excludeBottom = false]\n * @param {Object} [opts.fitRect] translate and scale will be ignored if fitRect is set\n * @param {Array} [opts.translate]\n * @param {Array} [opts.scale]\n *\n * @return {Object} {indices, position, uv, normal, boundingRect}\n */\nexport function extrudePolygon(polygons, opts) {\n\n    opts = Object.assign({}, opts);\n\n    const min = [Infinity, Infinity];\n    const max = [-Infinity, -Infinity];\n    for (let i = 0; i < polygons.length; i++) {\n        updateBoundingRect(polygons[i][0], min, max);\n    }\n    opts.boundingRect = opts.boundingRect || {\n        x: min[0], y: min[1], width: max[0] - min[0], height: max[1] - min[1]\n    };\n\n    normalizeOpts(opts);\n\n    const preparedData = [];\n    const translate = opts.translate || [0, 0];\n    const scale = opts.scale || [1, 1];\n    const boundingRect = opts.boundingRect;\n    const transformdRect = {\n        x: boundingRect.x * scale[0] + translate[0],\n        y: boundingRect.y * scale[1] + translate[1],\n        width: boundingRect.width * scale[0],\n        height: boundingRect.height * scale[1],\n    };\n\n    const epsilon = Math.min(\n        boundingRect.width, boundingRect.height\n    ) / 1e5;\n    for (let i = 0; i < polygons.length; i++) {\n        let newPolygon = removeClosePointsOfPolygon(polygons[i], epsilon);\n        if (!newPolygon) {\n            continue;\n        }\n        const simplifyTolerance = opts.simplify / Math.max(scale[0], scale[1]);\n        if (simplifyTolerance > 0) {\n            newPolygon = simplifyPolygon(newPolygon, simplifyTolerance);\n        }\n        if (!newPolygon) {\n            continue;\n        }\n\n        const {vertices, holes, dimensions} = earcut.flatten(newPolygon);\n\n        for (let k = 0; k < vertices.length;) {\n            vertices[k] = vertices[k++] * scale[0] + translate[0];\n            vertices[k] = vertices[k++] * scale[1] + translate[1];\n        }\n\n        convertToClockwise(vertices, holes);\n\n        if (dimensions !== 2) {\n            throw new Error('Only 2D polygon points are supported');\n        }\n        const topVertices = opts.bevelSize > 0\n            ? offsetPolygon(vertices, holes, opts.bevelSize, null, true) : vertices;\n        const indices = triangulate(topVertices, holes, dimensions);\n        const res = splitVertices(vertices, holes, opts.smoothSide, opts.smoothSideThreshold)\n\n        preparedData.push({\n            indices,\n            vertices: res.vertices,\n            rawVertices: vertices,\n            topVertices,\n            holes: res.holes,\n            splittedMap: res.splittedMap,\n            rect: transformdRect,\n            depth: typeof opts.depth === 'function' ? opts.depth(i) : opts.depth,\n            elevation: typeof opts.elevation === 'function' ? opts.elevation(i) : opts.elevation\n        });\n    }\n    return innerExtrudeTriangulatedPolygon(preparedData, opts);\n};\n\n/**\n *\n * @param {Array} polylines Polylines array that match GeoJSON MultiLineString geometry.\n * @param {Object} [opts]\n * @param {number} [opts.depth]\n * @param {number} [opts.bevelSize = 0]\n * @param {number} [opts.bevelSegments = 2]\n * @param {number} [opts.simplify = 0]\n * @param {boolean} [opts.smoothSide = 'auto']\n * @param {boolean} [opts.smoothSideThreshold = 0.9]    // Will not smooth sharp side.\n * @param {boolean} [opts.smoothBevel = false]\n * @param {boolean} [opts.excludeBottom = false]\n * @param {boolean} [opts.lineWidth = 1]\n * @param {boolean} [opts.miterLimit = 2]\n * @param {Object} [opts.fitRect] translate and scale will be ignored if fitRect is set\n * @param {Array} [opts.translate]\n * @param {Array} [opts.scale]\n * @param {Object} [opts.boundingRect]\n * @return {Object} {indices, position, uv, normal, boundingRect}\n */\nexport function extrudePolyline(polylines, opts) {\n\n    opts = Object.assign({}, opts);\n\n    const min = [Infinity, Infinity];\n    const max = [-Infinity, -Infinity];\n    for (let i = 0; i < polylines.length; i++) {\n        updateBoundingRect(polylines[i], min, max);\n    }\n    opts.boundingRect = opts.boundingRect || {\n        x: min[0], y: min[1], width: max[0] - min[0], height: max[1] - min[1]\n    };\n\n    normalizeOpts(opts);\n    const scale = opts.scale || [1, 1];\n\n    if (opts.lineWidth == null) {\n        opts.lineWidth = 1;\n    }\n    if (opts.miterLimit == null) {\n        opts.miterLimit = 2;\n    }\n    const preparedData = [];\n    // Extrude polyline to polygon\n    for (let i = 0; i < polylines.length; i++) {\n        let newPolyline = polylines[i];\n        const simplifyTolerance = opts.simplify / Math.max(scale[0], scale[1]);\n        if (simplifyTolerance > 0) {\n            newPolyline = doSimplify(newPolyline, simplifyTolerance, true);\n        }\n        preparedData.push(convertPolylineToTriangulatedPolygon(newPolyline, i, opts));\n    }\n\n    return innerExtrudeTriangulatedPolygon(preparedData, opts);\n}\n\nfunction updateBoundingRect(points, min, max) {\n    for (let i = 0; i < points.length; i++) {\n        min[0] = Math.min(points[i][0], min[0]);\n        min[1] = Math.min(points[i][1], min[1]);\n        max[0] = Math.max(points[i][0], max[0]);\n        max[1] = Math.max(points[i][1], max[1]);\n    }\n}\n\n/**\n *\n * @param {Object} geojson\n * @param {Object} [opts]\n * @param {number} opts.depth\n * @param {number} [opts.bevelSize = 0]\n * @param {number} [opts.bevelSegments = 2]\n * @param {number} [opts.simplify = 0]\n * @param {boolean} [opts.smoothSide = 'auto']\n * @param {boolean} [opts.smoothSideThreshold = 0.9]    // Will not smooth sharp side.\n * @param {boolean} [opts.smoothBevel = false]\n * @param {boolean} [opts.excludeBottom = false]\n * @param {boolean} [opts.lineWidth = 1]\n * @param {boolean} [opts.miterLimit = 2]\n * @param {Object} [opts.fitRect] translate and scale will be ignored if fitRect is set\n * @param {Array} [opts.translate]\n * @param {Array} [opts.scale]\n * @param {Object} [opts.boundingRect]\n * @return {Object} {polyline: {indices, position, uv, normal}, polygon: {indices, position, uv, normal}}\n */\n\n // TODO Not merge feature\nexport function extrudeGeoJSON(geojson, opts) {\n\n    opts = Object.assign({}, opts);\n\n    const polylines = [];\n    const polygons = [];\n\n    const polylineFeatureIndices = [];\n    const polygonFeatureIndices = [];\n\n    const min = [Infinity, Infinity];\n    const max = [-Infinity, -Infinity];\n\n    if (geojson.type === 'LineString' || geojson.type === 'MultiLineString' || geojson.type === 'Polygon' || geojson.type === 'MultiPolygon') {\n        geojson = {\n            features: [{\n                geometry: geojson\n            }]\n        }\n    }\n\n    for (let i = 0; i < geojson.features.length; i++) {\n        const feature = geojson.features[i];\n        const geometry = feature.geometry;\n        if (geometry && geometry.coordinates) {\n            switch (geometry.type) {\n                case 'LineString':\n                    polylines.push(geometry.coordinates);\n                    polylineFeatureIndices.push(i);\n                    updateBoundingRect(geometry.coordinates, min, max);\n                    break;\n                case 'MultiLineString':\n                    for (let k = 0; k < geometry.coordinates.length; k++) {\n                        polylines.push(geometry.coordinates[k]);\n                        polylineFeatureIndices.push(i);\n                        updateBoundingRect(geometry.coordinates[k], min, max);\n                    }\n                    break;\n                case 'Polygon':\n                    polygons.push(geometry.coordinates);\n                    polygonFeatureIndices.push(i);\n                    updateBoundingRect(geometry.coordinates[0], min, max);\n                    break;\n                case 'MultiPolygon':\n                    for (let k = 0; k < geometry.coordinates.length; k++) {\n                        polygons.push(geometry.coordinates[k]);\n                        polygonFeatureIndices.push(i);\n                        updateBoundingRect(geometry.coordinates[k][0], min, max);\n                    }\n                    break;\n            }\n        }\n    }\n\n    opts.boundingRect = opts.boundingRect || {\n        x: min[0], y: min[1], width: max[0] - min[0], height: max[1] - min[1]\n    };\n\n    const originalDepth = opts.depth;\n    const originalElevation = opts.elevation;\n    return {\n        polyline: extrudePolyline(polylines, Object.assign(opts, {\n            depth: function (idx) {\n                if (typeof originalDepth === 'function') {\n                    return originalDepth(\n                        geojson.features[polylineFeatureIndices[idx]]\n                    );\n                }\n                return originalDepth;\n            }\n        })),\n        polygon: extrudePolygon(polygons, Object.assign(opts, {\n            depth: function (idx) {\n                if (typeof originalDepth === 'function') {\n                    return originalDepth(\n                        geojson.features[polygonFeatureIndices[idx]]\n                    );\n                }\n                return originalDepth;\n            },\n            elevation: function (idx) {\n                if (typeof originalElevation === \"function\") {\n                    return originalElevation(geojson.features[polygonFeatureIndices[idx]]);\n                }\n                return originalElevation;\n            },\n        }))\n    };\n}"],"names":["earcutModule","earcut_1","area","getSqDist","p1","p2","dx","dy","getSqSegDist","p","x","y","t","simplifyRadialDist","points","sqTolerance","prevPoint","newPoints","point","i","len","length","push","simplifyDPStep","first","last","simplified","maxSqDist","index","sqDist","simplifyDouglasPeucker","simplify","tolerance","highestQuality","undefined","dot","v1","v2","v2Dot","normalize","out","v","z","d","Math","sqrt","v2Normalize","scale","s","scaleAndAdd","v2Add","v3Sub","v3Normalize","v3Cross","ax","ay","az","bx","by","bz","rel","slerp","start","end","cosT","theta","acos","cos","sin","lineIntersection","x1","y1","x2","y2","x3","y3","x4","y4","writeOffset","dx1","dx2","dy1","dy2","cross","tmp1","tmp2","t1","n","j","x0","y0","triangulate","vertices","holes","dimensions","earcut","flatten","data","innerOffsetPolygon","outStart","offset","miterLimit","close","removeIntersections","checkMiterLimit","cursor","indicesMap","Uint32Array","prevOffsetX","prevOffsetY","prevCursor","tmpIntersection","nextIdx","prevIdx","needCheckIntersection","offsetX","offsetY","tmp","cosA","sinA","miter","min","isCovex","mx","my","halfA","dist","tan","abs","offsetPolygon","offsetVertices","Float32Array","exteriorSize","reversePoints","stride","floor","a","b","convertToClockwise","polygonVertexCount","h","normalizeOpts","opts","depth","elevation","bevelSize","bevelSegments","smoothBevel","smoothSide","smoothSideThreshold","round","boundingRect","translate","fitRect","targetX","targetY","targetWidth","width","targetHeight","height","generateNormal","indices","position","v3Set","c","p3","v21","v32","normals","f","i1","i2","i3","quadToTriangle","addExtrudeSide","cursors","topVertices","splittedMap","rect","ringVertexCount","splitBevel","vertexOffset","vertex","size","max","isDuplicateVertex","idx","v0","ringCount","vLen","k","uLen","prevX","prevY","rawIdx","l","t2","PI","r","zz","prevX2","prevY2","prevZ2","uv","m","vtx3","vtx2","sideStartRingN","addTopAndBottom","indicesLen","excludeBottom","vertexCount","splitVertices","isAutoSmooth","newVertices","newHoles","count","polysCount","angleCos","innerExtrudeTriangulatedPolygon","preparedData","indexCount","faceEnd","faceStart","sideRingVertexCount","Uint16Array","val","normal","convertPolylineToTriangulatedPolygon","polyline","polylineIdx","lineWidth","pointCount","insidePoints","outsidePoints","outsideIndicesMap","insideIndicesMap","polygonVertices","outsidePointCount","off","res","rawVertices","removeClosePointsOfPolygon","polygon","epsilon","newPolygon","simplifyPolygon","doSimplify","extrudePolygon","polygons","Object","assign","Infinity","updateBoundingRect","transformdRect","simplifyTolerance","Error","extrudePolyline","polylines","newPolyline","extrudeGeoJSON","geojson","polylineFeatureIndices","polygonFeatureIndices","type","features","geometry","feature","coordinates","originalDepth","originalElevation"],"mappings":"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"}